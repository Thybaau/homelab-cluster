---
# Global variables for all hosts

# Versions
k3s_version: stable
kubectl_version: stable
helm_version: v3

# Network Configuration
k3s_master_ip: 192.168.1.102
k3s_api_port: 6443

# Paths
k3s_config_dir: /etc/rancher/k3s
k3s_data_dir: /var/lib/rancher/k3s
kubeconfig_local_path: ~/.kube/k3s-config

# Security
k3s_token_file: /var/lib/rancher/k3s/server/node-token
kubeconfig_permissions: "0600"

# Timeouts (in seconds)
service_start_timeout: 60
node_ready_timeout: 300
verification_timeout: 300
k3s_install_timeout: 300
master_connectivity_timeout: 300
retry_delay: 10

# System Dependencies
required_packages:
  - curl
  - ca-certificates
  - apt-transport-https
  - software-properties-common

# Kernel Modules
kernel_modules:
  - br_netfilter
  - overlay

# Sysctl Configuration
sysctl_config:
  net.ipv4.ip_forward: 1
  net.bridge.bridge-nf-call-iptables: 1
  net.bridge.bridge-nf-call-ip6tables: 1

# Firewall Ports
firewall_ports:
  - 6443   # Kubernetes API
  - 10250  # Kubelet
  - 8472   # Flannel VXLAN

# Reports
cluster_report_path: /tmp/cluster_status.txt
